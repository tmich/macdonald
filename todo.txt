== Per nuova azienda ==
alter table `fattura` add column `azienda_id` int(11) not null after `cliente_id`;
update `fattura` set `azienda_id`=1;
alter table `fattura` add constraint `fk_fattura_anagrafica` foreign key (`azienda_id`) references `anagrafica`(`id`);

alter table `anagrafica` add column `data_inizio` datetime not null;
alter table `anagrafica` add column `data_fine` datetime not null default '9999-12-31';
update `anagrafica` set `data_inizio` = '1970-01-01' WHERE id = 1;

/***
insert into anagrafica(ragsoc,descr,p_iva,cod_fisc,indirizzo,citta,cap,prov,tel,mf,fax,email,data_inizio) 
VALUES('Nuova Macdonald s.r.l.', 'Cartolibreria', '00262710170', '05886142071', 'Viale Angelico 35', 'Roma', 
	'00195','RM','062879673','64400009','065487984','nuovaemaildiprova@inwind.it','2018-01-01');
***/

## Prove python
## ===============
## from myapp import app,db
## from models import Anagrafica
## from datetime import date
## with app.app_context():
## 		an=db.session.query(Anagrafica).get(2)
##		an.attiva
##		anag=db.session.query(Anagrafica).filter(datetime.date.today() <= Anagrafica.data_fine).filter(datetime.date.today() >= Anagrafica.data_inizio).first()
##		anag.ragsoc
